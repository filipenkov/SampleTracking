<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE workflow PUBLIC "-//OpenSymphony Group//DTD OSWorkflow 2.8//EN" "http://www.opensymphony.com/osworkflow/workflow_2_8.dtd">
<workflow>
  <meta name="jira.update.author.name">pedworth</meta>
  <meta name="jira.description">27th Jan 2013</meta>
  <meta name="jira.updated.date">1340886659326</meta>
  <initial-actions>
    <action id="1" name="Create">
      <meta name="jira.description"></meta>
      <validators>
        <validator name="createValidator" type="class">
          <arg name="class.name">com.atlassian.jira.workflow.validator.PermissionValidator</arg>
          <arg name="permission">Create Issue</arg>
        </validator>
      </validators>
      <results>
        <unconditional-result old-status="null" status="Received Sample" step="10">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueCreateFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">1</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
  </initial-actions>
  <common-actions>
<!-- Step 10 Received Sample-->
    <action id="9010" name="Received Sample">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Received Sample" step="10">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 20 Lab Processing -->
    <action id="9020" name="Lab Processing">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Lab Processing" step="20">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 30 Assemble 
     9030 Unconditional
     9031 Subtasks must be complete
-->
    <action id="9030" name="Assemble">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Assemble" step="30">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9031" name="Assemble">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions type="AND">
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
          <condition type="class">
            <arg name="class.name">com.atlassian.jira.workflow.condition.SubTaskBlockingCondition</arg>
            <arg name="statuses">10053,10054</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Assemble" step="30">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 40 Review Assembly
     9040 Unconditional
     9041 Subtasks must be complete
-->
    <action id="9040" name="Review Assembly">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Review Assembly" step="40">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9041" name="Review Assembly">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions type="AND">
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
          <condition type="class">
            <arg name="class.name">com.atlassian.jira.workflow.condition.SubTaskBlockingCondition</arg>
            <arg name="statuses">10053,10054</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Review Assembly" step="40">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 50 Validate-->
    <action id="9050" name="Validate">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Validate" step="50">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 60 Request Taxon ID-->
    <action id="9060" name="Request Taxon ID">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Request Taxon ID" step="60">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 70 Annotate
     7060 Unconditional 
     7063 Non-Flu 
     7065 Non-Flu and check Wait
-->
    <action id="9070" name="Annotate">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Annotate" step="70">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9073" name="Annotate">
      <meta name="jira.description">Non-flu, wait period over</meta>
      <restrict-to>
        <conditions type="AND">
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
          <condition type="class">
            <arg name="field">Database</arg>
            <arg name="values">giv,giv2,giv3,piv,swiv</arg>
            <arg name="invert">TRUE</arg>
            <arg name="class.name">org.jcvi.jira.plugins.workflow.FieldContainsCondition</arg>
            <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:FieldContainsCondition</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Annotate" step="70">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9075" name="Annotate">
      <meta name="jira.description">Non-flu</meta>
      <restrict-to>
        <conditions type="AND">
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
          <condition type="class">
            <arg name="field">Database</arg>
            <arg name="values">giv,giv2,giv3,piv,swiv</arg>
            <arg name="invert">TRUE</arg>
            <arg name="class.name">org.jcvi.jira.plugins.workflow.FieldContainsCondition</arg>
            <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:FieldContainsCondition</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Annotate" step="70">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>

<!-- Step 80 Collaborator Review 
     9080 Unconditional 
     9082 Flu
     9086 Non-Flu and has 45 day Wait, dont check Wait
-->
    <action id="9080" name="Collaborator Review">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Collaborator Review" step="80">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9082" name="Collaborator Review">
      <meta name="jira.description">Flu (with or without wait period)</meta>
      <restrict-to>
        <conditions type="AND">
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
          <condition type="class">
            <arg name="field">Database</arg>
            <arg name="values">giv,giv2,giv3,piv,swiv</arg>
            <arg name="class.name">org.jcvi.jira.plugins.workflow.FieldContainsCondition</arg>
            <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:FieldContainsCondition</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Collaborator Review" step="80">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9086" name="Collaborator Review">
      <meta name="jira.description">Non-flu with wait period</meta>
      <restrict-to>
        <conditions type="AND">
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
          <condition type="class">
            <arg name="field">Database</arg>
            <arg name="values">giv,giv2,giv3,piv,swiv</arg>
            <arg name="invert">TRUE</arg>
            <arg name="class.name">org.jcvi.jira.plugins.workflow.FieldContainsCondition</arg>
            <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:FieldContainsCondition</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Collaborator Review" step="80">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>

<!-- Step 90 Deliver Data 
     9090 Unconditional
     9094 Flu and check Wait
-->
    <action id="9090" name="Deliver Data">
      <meta name="jira.description">When the wait period for collaborator review has passed; continue to 'Deliver Data'</meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Deliver Data" step="90">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9094" name="Deliver Data">
      <meta name="jira.description">Flu Samples Only.
          When there is no wait period or the wait period for collaborator review has passed; 
          continue to 'Deliver Data'
      </meta>
      <restrict-to>
        <conditions type="AND">
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
          <condition type="class">
            <arg name="field">Database</arg>
            <arg name="values">giv,giv2,giv3,piv,swiv</arg>
            <arg name="class.name">org.jcvi.jira.plugins.workflow.FieldContainsCondition</arg>
            <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:FieldContainsCondition</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Deliver Data" step="90">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 100 
     9100 Unconditional
     9105 Non-Flu and check Wait
-->
    <action id="9100" name="Submitted to GenBank">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Submitted to GenBank" step="100">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
    <action id="9105" name="Submitted to GenBank">
      <meta name="jira.description">Non-Influenza samples.
          If there is no wait period then the Batch can be submitted once the annotation has been
          generated. If there is a wait period then the Batch can be submitted once the wait period
          has passed.</meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Submitted to GenBank" step="100">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>

<!-- Step 110 Close Sample -->
    <action id="9110" name="Close Sample">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Close Sample" step="110">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 200 Sample Published -->
    <action id="9200" name="Sample Published">
      <meta name="jira.description"></meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Sample Published" step="200">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value">8</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">4</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 300  Unresolved -->
    <action id="9300" name="Unresolved" view="fieldscreen">
      <meta name="jira.description">If a sample is not [Deprecated] but still unsuitable for publishing to should be moved to [Unresolved]
        This is only available to members of the viral-admin group</meta>
      <meta name="jira.fieldscreen.id">10100</meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral-admin</arg>
          </condition>
        </conditions>
      </restrict-to>
      <validators>
        <validator name="RequireComment on Unresolved" type="class">
          <arg name="class.name">com.googlecode.jsu.workflow.validator.FieldsRequiredValidator</arg>
          <arg name="hidFieldsList">customfield_10220@@</arg>
        </validator>
      </validators>
      <results>
        <unconditional-result old-status="done" status="Unresolved" step="300">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value">2</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">10002</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 310 Deprecated -->
    <action id="9310" name="Deprecated" view="fieldscreen">
      <meta name="jira.description">If the samples originally submitted have a problem, such as duplicate samples, empty samples, externally contaminated samples, then the sample should be moved to [Deprecated]. Note: Deprecated samples are ignored when producing statistics
        This is only available to members of the viral-admin group</meta>
      <meta name="jira.fieldscreen.id">10100</meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral-admin</arg>
          </condition>
        </conditions>
      </restrict-to>
      <validators>
        <validator name="RequireComment on Deprecate" type="class">
          <arg name="class.name">com.googlecode.jsu.workflow.validator.FieldsRequiredValidator</arg>
          <arg name="hidFieldsList">customfield_10220@@</arg>
        </validator>
      </validators>
      <results>
        <unconditional-result old-status="done" status="Deprecated" step="310">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value">7</arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">10000</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
<!-- Step 400 Move -->
    <action id="9400" name="Move">
      <meta name="jira.description">For use when a sample needs to be moved between two steps and there is no path.
Move first to this step and then from this step to the target step.
This is only available to members of the viral-admin group</meta>
      <restrict-to>
        <conditions>
          <condition type="class">
            <arg name="class.name">com.opensymphony.workflow.util.OSUserGroupCondition</arg>
            <arg name="group">viral-admin</arg>
          </condition>
        </conditions>
      </restrict-to>
      <results>
        <unconditional-result old-status="done" status="Move" step="400">
          <post-functions>
            <function type="class">
              <arg name="sqlSource-file-resource">Synchronize status in GLK</arg>
              <arg name="plugin-resource-key">org.jcvi.jira.plugins.SampleTrackingPlugins2:SQLPostFunction</arg>
              <arg name="catalog-true-field">Database</arg>
              <arg name="catalog">true</arg>
              <arg name="class.name">org.jcvi.jira.plugins.workflow.SQLPostFunction</arg>
              <arg name="sqlSource">file</arg>
              <arg name="database">jdbc</arg>
              <arg name="database-jdbc-user">pedworthy</arg>
              <arg name="database-jdbc-uri">jdbc:sybase:Tds:SYBPROD:2025</arg>
              <arg name="database-jdbc-password">Password!23</arg>
              <arg name="database-jdbc-class">com.sybase.jdbc3.jdbc.SybDriver</arg>
            </function>
            <function type="class">
              <arg name="field.value"></arg>
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueFieldFunction</arg>
              <arg name="field.name">resolution</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.UpdateIssueStatusFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.misc.CreateCommentFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.GenerateChangeHistoryFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.issue.IssueReindexFunction</arg>
            </function>
            <function type="class">
              <arg name="class.name">com.atlassian.jira.workflow.function.event.FireIssueEventFunction</arg>
              <arg name="eventTypeId">13</arg>
            </function>
          </post-functions>
        </unconditional-result>
      </results>
    </action>
  </common-actions>
  <steps>
    <step id="10" name="Received Sample">
      <meta name="jira.status.id">10028</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9020" />
      </actions>
    </step>
    <step id="20" name="Lab Processing">
      <meta name="jira.status.id">10052</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9031" />
<common-action id="9010" />
      </actions>
    </step>
    <step id="30" name="Assemble">
      <meta name="jira.status.id">10034</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9040" />
      </actions>
    </step>
    <step id="40" name="Review Assembly">
      <meta name="jira.status.id">10035</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9020" />
<common-action id="9030" />
<common-action id="9060" />
<common-action id="9110" />
      </actions>
    </step>
    <step id="50" name="Validate">
      <meta name="jira.status.id">10047</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9040" />
<common-action id="9060" />
      </actions>
    </step>
    <step id="60" name="Request Taxon ID">
      <meta name="jira.status.id">10069</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9050" />
<common-action id="9075" />
<common-action id="9082" />
      </actions>
    </step>

    <step id="70" name="Annotate">
      <meta name="jira.status.id">10046</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9060" />
<common-action id="9086" />
<common-action id="9105" />
      </actions>
    </step>
    <step id="80" name="Collaborator Review">
      <meta name="jira.status.id">10045</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9073" />
<common-action id="9094" />
      </actions>
    </step>
    <step id="90" name="Deliver Data">
      <meta name="jira.status.id">10048</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9100" />
      </actions>
    </step>
    <step id="100" name="Submitted to Genbank">
      <meta name="jira.status.id">10063</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9075" />
<common-action id="9094" />
<common-action id="9200" />
      </actions>
    </step>
    <step id="110" name="Close Sample">
      <meta name="jira.status.id">10037</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9020" />
<common-action id="9031" />
<common-action id="9041" />
      </actions>
    </step>
    <step id="200" name="Sample Published">
      <meta name="jira.status.id">10066</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9400" />
<common-action id="9075" />
<common-action id="9094" />
      </actions>
    </step>
    <step id="300" name="Unresolved">
      <meta name="jira.status.id">10065</meta>
      <actions>
<common-action id="9310" />
<common-action id="9010" />
<common-action id="9020" />
<common-action id="9030" />
<common-action id="9040" />
<common-action id="9050" />
<common-action id="9060" />
<common-action id="9070" />
<common-action id="9080" />
<common-action id="9090" />
<common-action id="9100" />
<common-action id="9110" />
<common-action id="9200" />
      </actions>
    </step>
    <step id="310" name="Deprecated">
      <meta name="jira.status.id">10050</meta>
      <actions>
<common-action id="9300" />
<common-action id="9010" />
<common-action id="9020" />
<common-action id="9030" />
<common-action id="9040" />
<common-action id="9050" />
<common-action id="9060" />
<common-action id="9070" />
<common-action id="9080" />
<common-action id="9090" />
<common-action id="9100" />
<common-action id="9110" />
<common-action id="9200" />
      </actions>
    </step>
    <step id="400" name="Move the Sample to another Step">
      <meta name="jira.status.id">10067</meta>
      <actions>
<common-action id="9300" />
<common-action id="9310" />
<common-action id="9010" />
<common-action id="9020" />
<common-action id="9030" />
<common-action id="9040" />
<common-action id="9050" />
<common-action id="9060" />
<common-action id="9070" />
<common-action id="9080" />
<common-action id="9090" />
<common-action id="9100" />
<common-action id="9110" />
<common-action id="9200" />
      </actions>
    </step>
  </steps>
</workflow>

