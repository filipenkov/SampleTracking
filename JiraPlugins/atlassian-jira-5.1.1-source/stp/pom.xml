<?xml version="1.0" encoding="UTF-8"?>

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

	<modelVersion>4.0.0</modelVersion>
	<groupId>com.atlassian.support</groupId>
	<artifactId>stp</artifactId>
	<version>3.0.8</version>
	<developers>
        <developer>
            <name>Tony Atkins</name>
            <email>aatkins@atlassian.com</email>
            <organization>Atlassian</organization>
        </developer>
		<developer>
			<name>Ali Mohamed Jawad</name>
			<email>ajawad@atlassian.com</email>
			<organization>Atlassian</organization>
		</developer>
		<developer>
			<name>Sherali Karimov</name>
			<email>skarimov@atlassian.com</email>
			<organization>Atlassian</organization>
		</developer>
        <developer>
            <name>Chris LePetit</name>
            <email>clepetit@atlassian.com</email>
            <organization>Atlassian</organization>
        </developer>
	</developers>

	<scm>
        <connection>scm:svn:https://studio.plugins.atlassian.com/svn/STP/tags/stp-3.0.8</connection>
        <developerConnection>scm:svn:https://studio.plugins.atlassian.com/svn/STP/tags/stp-3.0.8</developerConnection>
        <url>https://studio.plugins.atlassian.com/svn/STP/tags/stp-3.0.8</url>
    </scm>

	<distributionManagement>
		<repository>
			<id>atlassian-m2-repository</id>
			<name>Atlassian Public Repository</name>
			<url>https://maven.atlassian.com/public</url>
		</repository>
		<snapshotRepository>
			<id>atlassian-m2-snapshot-repository</id>
			<name>Atlassian Public Snapshot Repository</name>
			<url>https://maven.atlassian.com/public-snapshot</url>
		</snapshotRepository>
	</distributionManagement>

	<organization>
		<name>Atlassian Support</name>
		<url>https://support.atlassian.com/</url>
	</organization>

	<name>Support Tools Plugin</name>
	<description>This is the Support Tools Plugin, developed to help Atlassian customers with our products.</description>
	<packaging>atlassian-plugin</packaging>

	<dependencies>
		<dependency>
			<groupId>com.atlassian.bamboo</groupId>
			<artifactId>atlassian-bamboo-web</artifactId>
			<version>${bamboo.version}</version>
			<scope>provided</scope>
			<exclusions>
				<exclusion>
					<artifactId>jsp-api</artifactId>
					<groupId>javax.servlet.jsp</groupId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>com.atlassian.bamboo</groupId>
			<artifactId>atlassian-bamboo-api</artifactId>
			<version>${bamboo.version}</version>
			<scope>provided</scope>
			<exclusions>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-core</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-main</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-osgi</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-servlet</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-spring</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webfragment</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webresource</artifactId>
				</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>com.atlassian.stash</groupId>
			<artifactId>stash-api</artifactId>
			<version>${stash.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.stash</groupId>
			<artifactId>stash-page-objects</artifactId>
			<version>${stash.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.confluence</groupId>
			<artifactId>confluence</artifactId>
			<version>${confluence.version}</version>
			<scope>provided</scope>
			<exclusions>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-core</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-main</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-osgi</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-servlet</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-spring</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webfragment</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webresource</artifactId>
				</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>com.atlassian.crucible</groupId>
			<artifactId>atlassian-crucible-scmutils</artifactId>
			<version>${fecru.version}</version>
			<scope>provided</scope>
		</dependency>

		<dependency>
			<groupId>com.atlassian.fisheye</groupId>
			<artifactId>atlassian-fisheye-api</artifactId>
			<version>${fecru.version}</version>
			<scope>provided</scope>
			<exclusions>
				<exclusion>
					<groupId>net.java.dev</groupId>
					<artifactId>jna</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.boilerbay.infinitydb</groupId>
					<artifactId>infinitydb</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-core</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-main</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-osgi</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-servlet</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-spring</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webfragment</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webresource</artifactId>
				</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>com.atlassian.fisheye</groupId>
			<artifactId>fisheye-jar</artifactId>
			<version>${fecru.version}</version>
			<scope>provided</scope>
			<exclusions>
				<exclusion>
					<groupId>net.java.dev</groupId>
					<artifactId>jna</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.boilerbay.infinitydb</groupId>
					<artifactId>infinitydb</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-core</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-main</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-osgi</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-servlet</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-spring</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webfragment</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webresource</artifactId>
				</exclusion>
				<exclusion>
					<artifactId>jsp-api-2.1-glassfish</artifactId>
					<groupId>org.mortbay.jetty</groupId>
				</exclusion>
			</exclusions>
		</dependency>
		<!-- <dependency> <groupId>com.atlassian.fisheye</groupId> <artifactId>sal-fisheye-plugin</artifactId> 
			<version>${fisheye.sal.version}</version> <scope>provided</scope> </dependency> -->

		<dependency>
			<groupId>com.atlassian.functest</groupId>
			<artifactId>functest-plugin</artifactId>
			<version>${fp.version}</version>
			<scope>test</scope>
			<exclusions>
				<exclusion>
					<groupId>org.apache.ant</groupId>
					<artifactId>ant-junit</artifactId>
				</exclusion>
				<exclusion>
					<groupId>org.seleniumhq.selenium</groupId>
					<artifactId>selenium</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.selenium</groupId>
					<artifactId>atlassian-webdriver-core</artifactId>
				</exclusion>
				<exclusion>
					<groupId>net.sourceforge.jwebunit</groupId>
					<artifactId>jwebunit-htmlunit-plugin</artifactId>
				</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>com.atlassian.jira</groupId>
			<artifactId>atlassian-jira</artifactId>
			<version>${jira.version}</version>
			<scope>provided</scope>
			<exclusions>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-core</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-main</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-osgi</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-osgi-events</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-servlet</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webfragment</artifactId>
				</exclusion>
				<exclusion>
					<groupId>com.atlassian.plugins</groupId>
					<artifactId>atlassian-plugins-webresource</artifactId>
				</exclusion>
			</exclusions>
		</dependency>

		<dependency>
			<groupId>com.atlassian.mail</groupId>
			<artifactId>atlassian-mail</artifactId>
			<version>${atlassian.mail.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.plugins</groupId>
			<artifactId>atlassian-plugins-core</artifactId>
			<version>${plug.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.plugins</groupId>
			<artifactId>atlassian-plugins-main</artifactId>
			<version>${plug.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.plugins</groupId>
			<artifactId>atlassian-plugins-osgi</artifactId>
			<version>${plug.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.plugins</groupId>
			<artifactId>atlassian-plugins-servlet</artifactId>
			<version>${plug.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.plugins</groupId>
			<artifactId>atlassian-plugins-webfragment</artifactId>
			<version>${plug.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.plugins</groupId>
			<artifactId>atlassian-plugins-webresource</artifactId>
			<version>${plug.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.sal</groupId>
			<artifactId>sal-api</artifactId>
			<version>${sal.api.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.security</groupId>
			<artifactId>atlassian-secure-random</artifactId>
			<version>1.0</version>
		</dependency>
		<!-- reenable this when we're ready to try detecting studio from inside 
			the products -->
		<!-- <dependency> <groupId>com.atlassian.studio</groupId> <artifactId>studio-common</artifactId> 
			<version>1.8.3</version> <scope>provided</scope> </dependency> -->

		<dependency>
			<groupId>com.atlassian.spring</groupId>
			<artifactId>atlassian-spring</artifactId>
			<version>1.3</version>
			<scope>provided</scope>
		</dependency>

		<dependency>
			<groupId>com.atlassian.support</groupId>
			<artifactId>sisyphus-scanner-tools</artifactId>
			<version>2</version>
			<exclusions>
				<exclusion>
					<groupId>commons-lang</groupId>
					<artifactId>commons-lang</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>com.atlassian.templaterenderer</groupId>
			<artifactId>atlassian-template-renderer-api</artifactId>
			<version>1.0.5</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>commons-io</groupId>
			<artifactId>commons-io</artifactId>
			<version>1.4</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>commons-logging</groupId>
			<artifactId>commons-logging</artifactId>
			<version>1.1.1</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>commons-validator</groupId>
			<artifactId>commons-validator</artifactId>
			<version>1.3.1</version>
			<exclusions>
				<exclusion>
					<groupId>commons-beanutils</groupId>
					<artifactId>commons-beanutils</artifactId>
				</exclusion>
				<exclusion>
					<groupId>commons-lang</groupId>
					<artifactId>commons-lang</artifactId>
				</exclusion>
				<exclusion>
					<groupId>commons-digester</groupId>
					<artifactId>commons-digester</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>servlet-api</artifactId>
			<version>2.4</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>log4j</groupId>
			<artifactId>log4j</artifactId>
			<version>1.2.15</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>opensymphony</groupId>
			<artifactId>oscore</artifactId>
			<version>2.2.7-atlassian-1</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.apache.velocity</groupId>
			<artifactId>velocity</artifactId>
			<version>1.6.4</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.apache.velocity</groupId>
			<artifactId>velocity-tools</artifactId>
			<version>2.0</version>
			<exclusions>
				<exclusion>
					<groupId>commons-beanutils</groupId>
					<artifactId>commons-beanutils</artifactId>
				</exclusion>
				<exclusion>
					<groupId>commons-collections</groupId>
					<artifactId>commons-collections</artifactId>
				</exclusion>
				<exclusion>
					<groupId>commons-digester</groupId>
					<artifactId>commons-digester</artifactId>
				</exclusion>
				<exclusion>
					<groupId>dom4j</groupId>
					<artifactId>dom4j</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>org.hibernate</groupId>
			<artifactId>hibernate-core</artifactId>
			<version>3.5.6-Final</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-api</artifactId>
			<version>${slf.version}</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
			<version>${slf.version}</version>
			<scope>provided</scope>
		</dependency>

		<!-- Test Dependencies -->
		<!-- This doesn't seem to work, uncomment it when you're ready to try mail 
			tests for Confluence -->
		<!-- <dependency> <groupId>com.atlassian.confluence.plugins</groupId> <artifactId>confluence-functestrpc-plugin</artifactId> 
			<version>${confluence.version}</version> <scope>test</scope> </dependency> -->
		<dependency>
			<groupId>com.atlassian.confluence</groupId>
			<artifactId>confluence-test-support</artifactId>
			<version>${confluence.version}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.confluence.plugins</groupId>
			<artifactId>confluence-functestrpc-plugin</artifactId>
			<version>${confluence.version}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.selenium</groupId>
			<artifactId>atlassian-selenium-browsers-auto</artifactId>
			<version>2.1.0-m11</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.atlassian.webwork1</groupId>
			<artifactId>atlassian-webwork1</artifactId>
			<version>1.0</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.icegreen</groupId>
			<artifactId>greenmail</artifactId>
			<version>1.3</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>4.6</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-all</artifactId>
			<version>1.8.1</version>
			<scope>test</scope>
		</dependency>
	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>com.atlassian.maven.plugins</groupId>
				<artifactId>maven-amps-plugin</artifactId>
				<version>${amps.version}</version>
				<extensions>true</extensions>
				<configuration>
					<!-- Uncomment this when you're ready to try working with mail testing 
						in Confluence -->
					<!-- <pluginDependencies> <pluginDependency> <groupId>com.atlassian.confluence.plugins</groupId> 
						<artifactId>confluence-functestrpc-plugin</artifactId> </pluginDependency> 
						</pluginDependencies> -->

					<systemPropertyVariables>
						<plugin.i18n.directory>${basedir}/src/main/resources/i18n</plugin.i18n.directory>
						<plugin.test.directory>${basedir}/src/test/resources</plugin.test.directory>
					</systemPropertyVariables>
					<instructions>
						<Import-Package>
                            com.atlassian.applinks*;resolution:=optional,
							com.atlassian.bamboo*;resolution:=optional,
							com.atlassian.stash*;;resolution:=optional,
							com.atlassian.config*;,
							com.atlassian.confluence*;;resolution:=optional,
							com.atlassian.crucible*;;resolution:=optional,
							com.atlassian.extras*;;resolution:=optional,
							com.atlassian.fisheye*;;resolution:=optional,
							com.atlassian.jdk.utilities*;;resolution:=optional,
							com.atlassian.jira*;;resolution:=optional,
							com.atlassian.license*,
							com.atlassian.mail*;version="1.16";resolution:=optional,
							com.atlassian.modzdetector*;;resolution:=optional,
							com.atlassian.plugin*,
							com.atlassian.plugin.web.*,
							com.atlassian.sal*;version="2.4.0",
							com.atlassian.sal.stash*;resolution:=optional,
							com.atlassian.sal.confluence*;resolution:=optional,
							com.atlassian.sal.fisheye*;resolution:=optional,
							com.atlassian.sal.fisheye.appconfig;resolution:=optional,
							com.atlassian.sal.jira.*;resolution:=optional,
							com.atlassian.spring.container.*;resolution:=optional,
							com.atlassian.templaterenderer.*;,
							com.atlassian.user.*;resolution:=optional,
							com.cenqua.crucible*;resolution:=optional,
							com.cenqua.fisheye*;resolution:=optional,
							com.opensymphony.*;version="0.0.0";resolution:=optional,
							javax.activation.*;,
							javax.crypto.*;,
							javax.security.auth;version="0.0.0",
							javax.servlet.*;,
							javax.net.*;,
							java.lang.management.*;,
							javax.mail.*;resolution:=optional,
							javax.xml.datatype;version="0.0.0",
							org.apache.commons.beanutils;version="1.6.1";resolution:=optional,
							org.apache.commons.codec.*,
							org.apache.commons.collections.*,
							org.apache.commons.io*;version="1.4",
							org.apache.commons.lang*;version="2.4",
							org.springframework.context*;resolution:=optional,
							org.apache.log4j;,
							org.dom4j*;version="1.4",
							org.hibernate*;resolution:=optional,
							org.jdom*;version="1.0";resolution:=optional,
							org.joda.time*;version="1.4";resolution:=optional,
							org.slf4j*;version="1.5",
							org.springframework.core.io;version="2.0.8",
						</Import-Package>
					</instructions>

					<products>
						<product>
							<id>bamboo</id>
							<version>${bamboo.version}</version>
							<productDataVersion>${bamboo.data.version}</productDataVersion>
						</product>
						<product>
                            <id>stash</id>
                            <instanceId>stash</instanceId>
                            <version>${stash.version}</version>
                            <dataVersion>${stash.data.version}</dataVersion>
                        </product>
                        <product>
							<id>confluence</id>
							<version>${confluence.version}</version>
							<productDataVersion>${confluence.data.version}</productDataVersion>
							<log4jProperties>src/aps/log4j/confluence.properties</log4jProperties>
						</product>
						<product>
							<id>fecru</id>
							<version>${fecru.version}</version>
							<productDataVersion>${fecru.data.version}</productDataVersion>
							<log4jProperties>src/aps/log4j/fecru.xml</log4jProperties>
							<productDataPath>src/test/resources/fecru-test-resources.zip</productDataPath>
						</product>
						<product>
							<id>jira</id>
							<version>${jira.version}</version>
							<productDataVersion>${jira.data.version}</productDataVersion>
							<log4jProperties>src/aps/log4j/jira.properties</log4jProperties>
						</product>
						<product>
							<id>refapp</id>
							<version>${refapp.version}</version>
							<!-- The refapp doesn't include a few key jars that the rest of the 
								products do, so we add them manually during the deployment -->
							<libArtifacts>
								<libArtifact>
									<groupId>com.atlassian.mail</groupId>
									<artifactId>atlassian-mail</artifactId>
									<version>${atlassian.mail.version}</version>
								</libArtifact>
								<libArtifact>
									<groupId>javax.mail</groupId>
									<artifactId>mail</artifactId>
									<version>1.4.1</version>
								</libArtifact>
							</libArtifacts>
						</product>
					</products>
					<!-- <testGroups> <testGroup> <id>refapp</id> <productIds> <productId>refapp</productId> 
						</productIds> <includes> <include>it/common/**</include> </includes> </testGroup> 
						<testGroup> <id>confluence</id> <productIds> <productId>confluence</productId> 
						</productIds> <includes> <include>it/common/**</include> <include>it/confluence/**</include> 
						</includes> </testGroup> <testGroup> <id>jira</id> <productIds> <productId>jira</productId> 
						</productIds> <includes> <include>it/common/**</include> </includes> </testGroup> 
						<testGroup> <id>fecru</id> <productIds> <productId>fecru</productId> </productIds> 
						<includes> <include>it/common/**</include> </includes> </testGroup> <testGroup> 
						<id>bamboo</id> <productIds> <productId>bamboo</productId> </productIds> 
						<includes> <include>it/common/**</include> </includes> </testGroup> </testGroups> -->
				</configuration>
			</plugin>
			<plugin>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<source>1.6</source>
					<target>1.6</target>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>selenium-maven-plugin</artifactId>
				<version>${selenium.maven.version}</version>
				<executions>
					<execution>
						<id>start-xvfb-instance</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>xvfb</goal>
						</goals>
						<configuration>
							<skip>${selenium.xvfb.skip}</skip>
							<display>${selenium.xvfb.display}</display>
						</configuration>
					</execution>

					<execution>
						<id>start-selenium-server</id>
						<phase>pre-integration-test</phase>
						<goals>
							<goal>start-server</goal>
						</goals>
						<configuration>
							<background>true</background>
							<singleWindow>true</singleWindow>
							<port>${selenium.server.port}</port>
							<firefoxProfileTemplate>${selenium.firefox.profile}</firefoxProfileTemplate>
						</configuration>
					</execution>
					<execution>
						<id>stop-selenium-server</id>
						<phase>post-integration-test</phase>
						<goals>
							<goal>stop-server</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<artifactId>maven-surefire-plugin</artifactId>
				<configuration>
					<!-- don't run tests in default phase, hold off until integration-test 
						phase -->
					<skip>false</skip>
					<systemPropertyVariables combine.children="append">
						<selenium.location>${selenium.server.location}</selenium.location>
						<selenium.port>${selenium.server.port}</selenium.port>
						<selenium.browser>${selenium.browser}</selenium.browser>
						<selenium.max.wait.time>${selenium.max.wait.time}</selenium.max.wait.time>
						<selenium.max.action.wait.time>${selenium.max.action.wait.time}</selenium.max.action.wait.time>
						<selenium.max.editor.wait.time>${selenium.max.editor.wait.time}</selenium.max.editor.wait.time>
						<selenium.max.comment.editor.wait.time>${selenium.max.comment.editor.wait.time}</selenium.max.comment.editor.wait.time>
						<ie6.mode>${ie6.mode}</ie6.mode>
					</systemPropertyVariables>
				</configuration>
				<!-- <executions> <execution> <id>run-selenium_tests</id> <phase>integration-test</phase> 
					<goals> <goal>test</goal> </goals> <configuration> <skip>false</skip> </configuration> 
					</execution> </executions> -->
			</plugin>
		</plugins>
		<pluginManagement>
			<plugins>
				<!--This plugin's configuration is used to store Eclipse m2e settings 
					only. It has no influence on the Maven build itself. -->
				<plugin>
					<groupId>org.eclipse.m2e</groupId>
					<artifactId>lifecycle-mapping</artifactId>
					<version>1.0.0</version>
					<configuration>
						<lifecycleMappingMetadata>
							<pluginExecutions>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											com.atlassian.maven.plugins
										</groupId>
										<artifactId>
											maven-amps-plugin
										</artifactId>
										<versionRange>
											[3.3.4,)
										</versionRange>
										<goals>
											<goal>
												copy-bundled-dependencies
											</goal>
											<goal>
												generate-manifest
											</goal>
											<goal>
												filter-plugin-descriptor
											</goal>
											<goal>
												compress-resources
											</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
							</pluginExecutions>
						</lifecycleMappingMetadata>
					</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
	</build>

	<properties>
		<amps.version>3.10.4</amps.version>
		<atlassian.mail.version>1.16</atlassian.mail.version>
		<atlassian.xwork.version>1.11</atlassian.xwork.version>
		<bamboo.data.version>3.2.2</bamboo.data.version>
		<bamboo.version>3.4</bamboo.version>
		<stash.version>1.0.3</stash.version>
		<stash.data.version>1.0.3</stash.data.version>
		<confluence.data.version>3.5</confluence.data.version>
		<confluence.version>4.1</confluence.version>
		<fecru.data.version>2.7.3-20110920012939</fecru.data.version>
		<fecru.version>2.7.3-20110920012939</fecru.version>
		<fisheye.sal.version>2.6.0</fisheye.sal.version>
		<jira.data.version>4.4</jira.data.version>
		<jira.version>4.4.4</jira.version>
		<plug.version>2.6.0</plug.version>
		<refapp.version>2.15.0</refapp.version>
		<sal.api.version>2.7.0</sal.api.version>

		<!-- This is the version of the functest plugin which is used to execute 
			platform-ctk. It's compatible with the atlassian platform version. -->
		<console.erroronfail>1</console.erroronfail>
		<fp.version>0.3</fp.version>
		<selenium.browser>*firefoxproxy</selenium.browser>
		<selenium.firefox.profile />
		<selenium.maven.version>1.0.1</selenium.maven.version>
		<selenium.max.action.wait.time>6000</selenium.max.action.wait.time>
		<selenium.max.comment.editor.wait.time>12000</selenium.max.comment.editor.wait.time>
		<selenium.max.editor.wait.time>12000</selenium.max.editor.wait.time>
		<selenium.max.wait.time>10000</selenium.max.wait.time>
		<selenium.server.location>localhost</selenium.server.location>
		<selenium.server.port>4444</selenium.server.port>
		<selenium.xvfb.display>:20</selenium.xvfb.display>
		<selenium.xvfb.skip>true</selenium.xvfb.skip>
		<slf.version>1.5.8</slf.version>
	</properties>
	<profiles>
		<!-- profiles to allow Selenium to run particular browsers on BDAC -->
		<profile>
			<id>bamboo-firefox2</id>
			<properties>
				<selenium.browser>*firefoxproxy
					/import/tools/firefox/2.0/firefox-bin</selenium.browser>
				<selenium.xvfb.skip>false</selenium.xvfb.skip>
				<test.exclusion.suffix>NotFF2*Test</test.exclusion.suffix>
			</properties>
		</profile>
		<profile>
			<id>bamboo-firefox3</id>
			<properties>
				<selenium.browser>*firefoxproxy
					/import/tools/firefox/3.0/firefox-bin</selenium.browser>
				<selenium.xvfb.skip>false</selenium.xvfb.skip>
				<test.exclusion.suffix>NotFF3*Test</test.exclusion.suffix>
			</properties>
		</profile>
		<profile>
			<id>bamboo-firefox35</id>
			<properties>
				<selenium.browser.path>/import/tools/firefox/3.5/firefox-bin</selenium.browser.path>
				<selenium.browser>*firefoxproxy ${selenium.browser.path}</selenium.browser>
				<selenium.xvfb.skip>false</selenium.xvfb.skip>
				<test.exclusion.suffix>NotFF35*Test</test.exclusion.suffix>
			</properties>
		</profile>
		<profile>
			<id>bamboo-firefox36</id>
			<properties>
				<selenium.browser.path>/import/tools/firefox/3.6/firefox-bin</selenium.browser.path>
				<selenium.browser>*firefoxproxy ${selenium.browser.path}</selenium.browser>
				<selenium.xvfb.skip>false</selenium.xvfb.skip>
				<test.exclusion.suffix>NotFF36*Test</test.exclusion.suffix>
			</properties>
		</profile>
	</profiles>
</project>
